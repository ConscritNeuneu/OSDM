<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<title>recommended Workflow</title>
</head>

<body>
<h1>Conversion details 108.1 to IRS 90918-10</h1>


<h2>Parameters required for the import of 108.1 data</h2>
<p><ul>

<table border="1">
<tr><td>Parameter</td><td>Description</td></tr>
<tr><td>Country</td><td>Country used to assign the station codes provided without country in 108.1</td></tr>
<tr><td>Character Set</td><td>Character set to read the local characters in 108.1 station names</td></tr>
<tr><td>Time zone</td><td>Time zone used to transfer the date fields in 108.1 into complete date information</td></tr>
</table>
</ul></p>


<h2>Parameters required for the conversion of 108.1 data</h2>
<p><ul>

<table border="1">
<tr><td>Parameter</td><td>Description</td></tr>
<tr><td>TaxId</td><td>Value Added Tax Id used in converted prices</td></tr>
<tr><td>VAT</td><td>Percentage of VAT used in converted prices</td></tr>
<tr><td>Station Mapping</td><td>Mapping of nonstandard stations into real Merits station codes.</td></tr>
<tr><td>Fare station set mappings</td><td>Mapping of 108 station codes to fare reference stations. This will be created automatically in case the fare reference codes are properly contained in the 108.1 data.</td></tr>
<tr><td>station to service constrained mapping</td><td>Mapping of 108 station codes to service constraints.</td></tr>
<tr><td>fare template</td><td>Template to create a fare in the 90918-10 data. The template must provide service class and price factor to create a fare. All required data for the 
final fare must be created except the regional validity and the price which come from 108.1 series and fares. <br/> 
A fixed price can be set, the all fares converted from series will have the same price.<br/>
The referenced data items must be defined in the General Tariff Model fare structure first. They can then be assigned to a fare template.
</td></tr>
</table>
</ul></p>


<h2>Conversion</h2>

<p><ul><p><img src="../images/convertFromLegacy.png" alt="convert"/>Convert the data.<br/></ul></p>

<p><ul>Conversion has the following steps:<br/><br/>

	<ul>
	<li>deleting old conversion results</li>
	<li>create fare station sets from the fare reference code in the 108 station data</li>
	<li>create connection points and border point mappings</li>
	<li>update the station reference data with case sensitive station names and border point codes</li>
	<li>create sales validity constraints - all from/end dates in series and fares are connected, the set of intersections is created. Each intersection results in a sales availability constraint.</li>
	<li>creating carrier constraints for all carriers contained in the series</li>
	<li>conversion of series into fares</li>
	</ul>

</ul></p>

<h2>Converting a series</h2>

<p><ul>
A series is converted into a regional validity and a corresponding regional validity for the return. For each regional validity and sales availability and fare template a fare is created using the 108 fare data.
<br/><br/>

Converting of a series has the following steps:<br/><br/>

	<ul>
	<li>converting the series into a regional validity and a second regional validity for the reversed direction.
		<br/><br/>
		<ul>
			<li>identifying the connection points in case of transit series or series from a border point</li>
			<li>replacing stations by real stations, service constraints or fare descriptions using the mappings provided in the conversion parameter</li>
			<li>adding the service constraints and fare descriptions to the fare data</li> 
			<li>converting the departure station, the via station list and the arrival station into a regional validity.</li>		
		</ul>
		<br/><br/>
	</li>
	<li>creating the fare based on the fare template.</li>
	<li>calculating the price for each fare template and sales availability constraint.</li>
	<li>adding legacy accounting information to the fare</li>
	<li>adding the price to the fare data set if it is not yet there</li>		
	<li>adding the fare to the fare data set</li>
	</ul>
</ul></p>




</body>
</html>