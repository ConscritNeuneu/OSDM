hide footbox

actor Retailer 

== Creating the trip collection & getting the initial set of trips ==
Retailer -> Distributor: POST /trips-collection <MUNCHEN-PARIS, 23/10/2021, 2 pax, dob, ...>
Distributor -> JourneyPlanner : <retrieve trips information based on API Consumer request>
JourneyPlanner --> Distributor : <trips information>
loop for each trip    
    loop for each segment
        Distributor -> Distributor: determine FareProvider
    end
end
Distributor -> Distributor : create offer requests
loop for each request
    Distributor -> FareProvider: get offers 
    FareProvider -> FareProvider: calculate offers
    FareProvider --> Distributor : request with trips
end
Distributor -> Distributor : reconcile trips and \nconstruct global offers
Distributor --> Retailer: <List of Offers>
