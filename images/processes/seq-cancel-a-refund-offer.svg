<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="347px" preserveAspectRatio="none" style="width:982px;height:347px;" version="1.1" viewBox="0 0 982 347" width="982px" zoomAndPan="magnify"><defs><filter height="300%" id="f1she7vc7eqw3t" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1she7vc7eqw3t)" height="106.5313" style="stroke:#000000;stroke-width:2.0;" width="405" x="560" y="187.8281"/><rect fill="#FFFFFF" filter="url(#f1she7vc7eqw3t)" height="75.3984" style="stroke:#000000;stroke-width:2.0;" width="324" x="570" y="211.9609"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="64" x2="64" y1="40.2969" y2="340.4922"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="642" x2="642" y1="40.2969" y2="340.4922"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="785" x2="785" y1="40.2969" y2="340.4922"/><rect fill="#FEFECE" filter="url(#f1she7vc7eqw3t)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="114" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="100" x="12" y="24.9951">API_Consumer</text><rect fill="#FEFECE" filter="url(#f1she7vc7eqw3t)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="120" x="580" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="106" x="587" y="24.9951">OSDM_Provider</text><rect fill="#FEFECE" filter="url(#f1she7vc7eqw3t)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="100" x="733" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="740" y="24.9951">FareProvider</text><rect fill="#EEEEEE" filter="url(#f1she7vc7eqw3t)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="975" x="0" y="70.8633"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="975" y1="70.8633" y2="70.8633"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="975" y1="73.8633" y2="73.8633"/><rect fill="#EEEEEE" filter="url(#f1she7vc7eqw3t)" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="204" x="385.5" y="60.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="185" x="391.5" y="76.3638">Cancelling a refund offer</text><polygon fill="#A80036" points="630,110.5625,640,114.5625,630,118.5625,634,114.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="64" x2="636" y1="114.5625" y2="114.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="554" x="71" y="109.4966">GET /Bookings/5678?embed="BOOKEDOFFERS, TRIPS,FULFILLMENTS, REFUNDOFFERS"</text><polygon fill="#A80036" points="75,139.6953,65,143.6953,75,147.6953,71,143.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="69" x2="641" y1="143.6953" y2="143.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="491" x="81" y="138.6294">&lt;Booking with BookedOffers, Trips,Fulfillments and Refund Offers resources&gt;</text><polygon fill="#A80036" points="630,168.8281,640,172.8281,630,176.8281,634,172.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="64" x2="636" y1="172.8281" y2="172.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="274" x="71" y="167.7622">DELETE /Bookings/5678/exchangeOffers/23</text><path d="M560,187.8281 L637,187.8281 L637,194.8281 L627,204.8281 L560,204.8281 L560,187.8281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="106.5313" style="stroke:#000000;stroke-width:2.0;" width="405" x="560" y="187.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="575" y="200.895">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="308" x="652" y="200.0386">[for each fulfillment in the refund offer request]</text><path d="M570,211.9609 L634,211.9609 L634,218.9609 L624,228.9609 L570,228.9609 L570,211.9609 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="75.3984" style="stroke:#000000;stroke-width:2.0;" width="324" x="570" y="211.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="585" y="225.0278">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="240" x="649" y="224.1714">[FareProvider supports refund offers]</text><polygon fill="#A80036" points="773,246.2266,783,250.2266,773,254.2266,777,250.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="642" x2="779" y1="250.2266" y2="250.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="649" y="245.1606">cancel refund offer</text><polygon fill="#A80036" points="653,275.3594,643,279.3594,653,283.3594,649,279.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="647" x2="784" y1="279.3594" y2="279.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="18" x="659" y="274.2935">OK</text><polygon fill="#A80036" points="75,318.4922,65,322.4922,75,326.4922,71,322.4922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="69" x2="641" y1="322.4922" y2="322.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="81" y="317.4263">200 OK</text><!--MD5=[099492c9a024196be60d3a9cdb00a2c3]
@startuml
hide footbox
== Cancelling a refund offer ==
API_Consumer -> OSDM_Provider: GET /Bookings/5678?embed="BOOKEDOFFERS, TRIPS,FULFILLMENTS, REFUNDOFFERS"
OSDM_Provider - -> API_Consumer: <Booking with BookedOffers, Trips,Fulfillments and Refund Offers resources>
API_Consumer -> OSDM_Provider: DELETE /Bookings/5678/exchangeOffers/23
loop for each fulfillment in the refund offer request
    alt FareProvider supports refund offers 
      OSDM_Provider -> FareProvider: cancel refund offer
	  FareProvider - -> OSDM_Provider : OK
   
    end
end
OSDM_Provider - -> API_Consumer: 200 OK
@enduml

PlantUML version 1.2020.22(Sun Dec 06 10:36:27 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>