<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="841px" preserveAspectRatio="none" style="width:965px;height:841px;" version="1.1" viewBox="0 0 965 841" width="965px" zoomAndPan="magnify"><defs><filter height="300%" id="f1gvz67jb7xviv" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1gvz67jb7xviv)" height="48.7031" style="stroke: #000000; stroke-width: 2.0;" width="612.5" x="13" y="763.6406"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="78" x2="78" y1="87.6094" y2="829.3438"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="574.5" x2="574.5" y1="87.6094" y2="829.3438"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="841.5" x2="841.5" y1="87.6094" y2="829.3438"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="923.5" x2="923.5" y1="87.6094" y2="829.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="105" x="23" y="84.5332">TicketVendor:T1</text><ellipse cx="78.5" cy="13" fill="#FEFECE" filter="url(#f1gvz67jb7xviv)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M78.5,21 L78.5,48 M65.5,29 L91.5,29 M78.5,48 L65.5,63 M78.5,48 L91.5,63 " fill="none" filter="url(#f1gvz67jb7xviv)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="76" x="533.5" y="84.5332">Allocator:A1</text><ellipse cx="574.5" cy="13" fill="#FEFECE" filter="url(#f1gvz67jb7xviv)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M574.5,21 L574.5,48 M561.5,29 L587.5,29 M574.5,48 L561.5,63 M574.5,48 L587.5,63 " fill="none" filter="url(#f1gvz67jb7xviv)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="805.5" y="84.5332">Carrier:C1</text><ellipse cx="841.5" cy="13" fill="#FEFECE" filter="url(#f1gvz67jb7xviv)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M841.5,21 L841.5,48 M828.5,29 L854.5,29 M841.5,48 L828.5,63 M841.5,48 L854.5,63 " fill="none" filter="url(#f1gvz67jb7xviv)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="887.5" y="84.5332">Carrier:C2</text><ellipse cx="923.5" cy="13" fill="#FEFECE" filter="url(#f1gvz67jb7xviv)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M923.5,21 L923.5,48 M910.5,29 L936.5,29 M923.5,48 L910.5,63 M923.5,48 L936.5,63 " fill="none" filter="url(#f1gvz67jb7xviv)" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="562.5,115.9609,572.5,119.9609,562.5,123.9609,566.5,119.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="78.5" x2="568.5" y1="119.9609" y2="119.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="85.5" y="115.1045">GET reduction cards</text><polygon fill="#A80036" points="562.5,146.3125,572.5,150.3125,562.5,154.3125,566.5,150.3125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="78.5" x2="568.5" y1="150.3125" y2="150.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="85.5" y="145.4561">GET coach layouts</text><polygon fill="#A80036" points="562.5,176.6641,572.5,180.6641,562.5,184.6641,566.5,180.6641" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="78.5" x2="568.5" y1="180.6641" y2="180.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="292" x="85.5" y="175.8076">POST trip offers collection using from / to satation</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="574.5" x2="616.5" y1="211.0156" y2="211.0156"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="616.5" x2="616.5" y1="211.0156" y2="224.0156"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="575.5" x2="616.5" y1="224.0156" y2="224.0156"/><polygon fill="#A80036" points="585.5,220.0156,575.5,224.0156,585.5,228.0156,581.5,224.0156" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="253" x="581.5" y="206.1592">split the request to carriers / fare prooviders</text><polygon fill="#A80036" points="829.5,250.3672,839.5,254.3672,829.5,258.3672,833.5,254.3672" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="574.5" x2="835.5" y1="254.3672" y2="254.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="231" x="581.5" y="249.5107">POST trip offers collection including trip</text><polygon fill="#A80036" points="911.5,280.7188,921.5,284.7188,911.5,288.7188,915.5,284.7188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="574.5" x2="917.5" y1="284.7188" y2="284.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="231" x="581.5" y="279.8623">POST trip offers collection including trip</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="574.5" x2="616.5" y1="315.0703" y2="315.0703"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="616.5" x2="616.5" y1="315.0703" y2="328.0703"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="575.5" x2="616.5" y1="328.0703" y2="328.0703"/><polygon fill="#A80036" points="585.5,324.0703,575.5,328.0703,585.5,332.0703,581.5,328.0703" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="245" x="581.5" y="310.2139">combine fare offers according to fare rules</text><polygon fill="#A80036" points="89.5,354.4219,79.5,358.4219,89.5,362.4219,85.5,358.4219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="83.5" x2="573.5" y1="358.4219" y2="358.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55" x="95.5" y="353.5654">trip offers</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="78.5" x2="120.5" y1="388.7734" y2="388.7734"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="120.5" x2="120.5" y1="388.7734" y2="401.7734"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="79.5" x2="120.5" y1="401.7734" y2="401.7734"/><polygon fill="#A80036" points="89.5,397.7734,79.5,401.7734,89.5,405.7734,85.5,401.7734" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="223" x="85.5" y="383.917">manage customer selection of an offer</text><polygon fill="#A80036" points="562.5,428.125,572.5,432.125,562.5,436.125,566.5,432.125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="78.5" x2="568.5" y1="432.125" y2="432.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="178" x="85.5" y="427.2686">GET place-map (reservationId)</text><polygon fill="#A80036" points="829.5,458.4766,839.5,462.4766,829.5,466.4766,833.5,462.4766" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="574.5" x2="835.5" y1="462.4766" y2="462.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="178" x="581.5" y="457.6201">GET place-map (reservationId)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="78.5" x2="120.5" y1="492.8281" y2="492.8281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="120.5" x2="120.5" y1="492.8281" y2="505.8281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="79.5" x2="120.5" y1="505.8281" y2="505.8281"/><polygon fill="#A80036" points="89.5,501.8281,79.5,505.8281,89.5,509.8281,85.5,505.8281" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="482" x="85.5" y="487.9717">combine place-maps with coach layouts and manage customer selection of a place</text><polygon fill="#A80036" points="562.5,532.1797,572.5,536.1797,562.5,540.1797,566.5,536.1797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="78.5" x2="568.5" y1="536.1797" y2="536.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="85.5" y="531.3232">POST bookingid, place selection</text><polygon fill="#A80036" points="829.5,562.5313,839.5,566.5313,829.5,570.5313,833.5,566.5313" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="574.5" x2="835.5" y1="566.5313" y2="566.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="581.5" y="561.6748">POST bookingid, place selection</text><polygon fill="#A80036" points="911.5,592.8828,921.5,596.8828,911.5,600.8828,915.5,596.8828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="574.5" x2="917.5" y1="596.8828" y2="596.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="581.5" y="592.0264">POST booking</text><polygon fill="#A80036" points="89.5,623.2344,79.5,627.2344,89.5,631.2344,85.5,627.2344" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="83.5" x2="573.5" y1="627.2344" y2="627.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="45" x="95.5" y="622.3779">booking</text><polygon fill="#A80036" points="562.5,653.5859,572.5,657.5859,562.5,661.5859,566.5,657.5859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="78.5" x2="568.5" y1="657.5859" y2="657.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="85.5" y="652.7295">POST fulfillments</text><polygon fill="#A80036" points="829.5,683.9375,839.5,687.9375,829.5,691.9375,833.5,687.9375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="574.5" x2="835.5" y1="687.9375" y2="687.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="581.5" y="683.0811">POST fulfillments</text><polygon fill="#A80036" points="911.5,714.2891,921.5,718.2891,911.5,722.2891,915.5,718.2891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="574.5" x2="917.5" y1="718.2891" y2="718.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="581.5" y="713.4326">POST fulfillments</text><polygon fill="#A80036" points="89.5,744.6406,79.5,748.6406,89.5,752.6406,85.5,748.6406" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="83.5" x2="573.5" y1="748.6406" y2="748.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="74" x="95.5" y="743.7842">fulfillmentIds</text><path d="M13,763.6406 L86,763.6406 L86,771.6406 L76,781.6406 L13,781.6406 L13,763.6406 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="48.7031" style="stroke: #000000; stroke-width: 2.0;" width="612.5" x="13" y="763.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="28" y="778.1357">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="108" x="101" y="777.0596">[for each fulfillment]</text><polygon fill="#A80036" points="562.5,800.3438,572.5,804.3438,562.5,808.3438,566.5,804.3438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="78.5" x2="568.5" y1="804.3438" y2="804.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="85.5" y="799.4873">GET fulfillmentId</text><!--MD5=[64e4dd8606b78267f7764898db57805b]
@startuml
hide footbox

actor "TicketVendor:T1"
actor "Allocator:A1"
actor "Carrier:C1"
actor "Carrier:C2"

"TicketVendor:T1" -> "Allocator:A1": GET reduction cards

"TicketVendor:T1" -> "Allocator:A1": GET coach layouts

"TicketVendor:T1" -> "Allocator:A1": POST trip offers collection using from / to satation

"Allocator:A1" -> "Allocator:A1": split the request to carriers / fare prooviders

"Allocator:A1" -> "Carrier:C1": POST trip offers collection including trip

"Allocator:A1" -> "Carrier:C2": POST trip offers collection including trip

"Allocator:A1" -> "Allocator:A1": combine fare offers according to fare rules

"Allocator:A1" - -> "TicketVendor:T1": trip offers

"TicketVendor:T1" -> "TicketVendor:T1": manage customer selection of an offer

"TicketVendor:T1" -> "Allocator:A1": GET place-map (reservationId)

"Allocator:A1" -> "Carrier:C1": GET place-map (reservationId)

"TicketVendor:T1" -> "TicketVendor:T1": combine place-maps with coach layouts and manage customer selection of a place

"TicketVendor:T1" -> "Allocator:A1": POST bookingid, place selection

"Allocator:A1" -> "Carrier:C1": POST bookingid, place selection

"Allocator:A1" -> "Carrier:C2": POST booking

"Allocator:A1" - -> "TicketVendor:T1": booking

"TicketVendor:T1" -> "Allocator:A1": POST fulfillments

"Allocator:A1" -> "Carrier:C1": POST fulfillments

"Allocator:A1" -> "Carrier:C2": POST fulfillments

"TicketVendor:T1" <- - "Allocator:A1": fulfillmentIds

loop for each fulfillment

"TicketVendor:T1" -> "Allocator:A1": GET fulfillmentId

end

@enduml

PlantUML version 1.2019.12(Sun Nov 03 11:24:54 CET 2019)
(APACHE source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_212-3-redhat-b04
Operating System: Windows 10
Default Encoding: Cp1252
Language: de
Country: DE
--></g></svg>