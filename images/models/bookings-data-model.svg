<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="820px" preserveAspectRatio="none" style="width:1506px;height:820px;" version="1.1" viewBox="0 0 1506 820" width="1506px" zoomAndPan="magnify"><defs><filter height="300%" id="fc2ll3o2iz4jm" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="186" x="652.75" y="16.708">Bookings Data Model</text><!--MD5=[18f5b4ccae6e62f3670d3aa352beb4cd]
class Trip--><rect codeLine="3" fill="#FAF0E6" filter="url(#fc2ll3o2iz4jm)" height="48" id="Trip" style="stroke:#A80036;stroke-width:1.5;" width="55" x="102.5" y="572.0231"/><ellipse cx="117.5" cy="588.0231" fill="#DA70D6" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M118.7031,588.1638 Q119.0625,588.2419 119.3281,588.5231 Q119.6094,588.7888 120,589.57 L122.2344,594.0231 L119.5469,594.0231 L118.0469,590.8981 Q117.9844,590.7575 117.875,590.5231 Q117.2188,589.1325 116.3281,589.1325 L115.5469,589.1325 L115.5469,594.0231 L113.1094,594.0231 L113.1094,581.6325 L116.6406,581.6325 Q119.0313,581.6325 120.0625,582.4763 Q121.1094,583.32 121.1094,585.2263 Q121.1094,586.5075 120.4844,587.2731 Q119.875,588.0231 118.7031,588.1638 Z M115.5469,583.695 L115.5469,587.07 L116.7031,587.07 Q117.7188,587.07 118.1406,586.6794 Q118.5781,586.2731 118.5781,585.3669 Q118.5781,584.4763 118.1406,584.0856 Q117.7188,583.695 116.7031,583.695 L115.5469,583.695 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="23" x="131.5" y="592.1774">Trip</text><line style="stroke:#A80036;stroke-width:1.5;" x1="103.5" x2="156.5" y1="604.0231" y2="604.0231"/><line style="stroke:#A80036;stroke-width:1.5;" x1="103.5" x2="156.5" y1="612.0231" y2="612.0231"/><!--MD5=[220eb97dd738422dcfb96be6c83c4129]
class Segment--><rect codeLine="6" fill="#FAF0E6" filter="url(#fc2ll3o2iz4jm)" height="48" id="Segment" style="stroke:#A80036;stroke-width:1.5;" width="88" x="193" y="572.0231"/><ellipse cx="208" cy="588.0231" fill="#008000" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M207.5938,583.8356 L207.5938,591.82 L208.25,591.82 Q209.6875,591.82 210.2969,590.9138 Q210.9219,589.9919 210.9219,587.82 Q210.9219,585.6481 210.2969,584.7419 Q209.6875,583.8356 208.25,583.8356 L207.5938,583.8356 Z M205.1406,581.6325 L207.7656,581.6325 Q210.7969,581.6325 212.125,583.0856 Q213.4688,584.5231 213.4688,587.82 Q213.4688,591.1169 212.125,592.57 Q210.7969,594.0231 207.7656,594.0231 L205.1406,594.0231 L205.1406,581.6325 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="56" x="222" y="592.1774">Segment</text><line style="stroke:#A80036;stroke-width:1.5;" x1="194" x2="280" y1="604.0231" y2="604.0231"/><line style="stroke:#A80036;stroke-width:1.5;" x1="194" x2="280" y1="612.0231" y2="612.0231"/><!--MD5=[4c878308a71f4293fce0e67c4a286042]
class BookedOffer--><rect codeLine="9" fill="#E0FFFF" filter="url(#fc2ll3o2iz4jm)" height="188.8516" id="BookedOffer" style="stroke:#A80036;stroke-width:1.5;" width="284" x="260" y="279.5231"/><ellipse cx="359.25" cy="295.5231" fill="#DA70D6" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M360.4531,295.6638 Q360.8125,295.7419 361.0781,296.0231 Q361.3594,296.2888 361.75,297.07 L363.9844,301.5231 L361.2969,301.5231 L359.7969,298.3981 Q359.7344,298.2575 359.625,298.0231 Q358.9688,296.6325 358.0781,296.6325 L357.2969,296.6325 L357.2969,301.5231 L354.8594,301.5231 L354.8594,289.1325 L358.3906,289.1325 Q360.7813,289.1325 361.8125,289.9763 Q362.8594,290.82 362.8594,292.7263 Q362.8594,294.0075 362.2344,294.7731 Q361.625,295.5231 360.4531,295.6638 Z M357.2969,291.195 L357.2969,294.57 L358.4531,294.57 Q359.4688,294.57 359.8906,294.1794 Q360.3281,293.7731 360.3281,292.8669 Q360.3281,291.9763 359.8906,291.5856 Q359.4688,291.195 358.4531,291.195 L357.2969,291.195 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="77" x="379.75" y="299.6774">BookedOffer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="261" x2="543" y1="311.5231" y2="311.5231"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="10" x="266" y="325.7336">id</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="266" y="338.5383">minimalPrice: price</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="203" x="266" y="351.3429">overallServiceClass: FIRST/SECOND</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="272" x="266" y="364.1476">overallServiceRank: FIRST_A,B,C/SECOND_A,B,C</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="190" x="266" y="376.9523">overallFlexibility: FULL/SEMI/NONE</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="88" x="266" y="389.757">validFrom: date</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="73" x="266" y="402.5617">validTo: date</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="165" x="266" y="415.3664">requestedInformation: String</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="134" x="266" y="428.1711">OfferParts: [OfferParts]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="76" x="266" y="440.9758">Fares:[Fares]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="52" x="266" y="453.7804">Trip: Trip</text><line style="stroke:#A80036;stroke-width:1.5;" x1="261" x2="543" y1="460.3747" y2="460.3747"/><!--MD5=[e8c16ea9d307a44f048f14324caf9e10]
class OfferPart--><rect codeLine="23" fill="#D3D3D3" filter="url(#fc2ll3o2iz4jm)" height="48" id="OfferPart" style="stroke:#A80036;stroke-width:1.5;" width="88" x="750" y="350.0231"/><ellipse cx="765" cy="366.0231" fill="#008000" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M764.5938,361.8356 L764.5938,369.82 L765.25,369.82 Q766.6875,369.82 767.2969,368.9138 Q767.9219,367.9919 767.9219,365.82 Q767.9219,363.6481 767.2969,362.7419 Q766.6875,361.8356 765.25,361.8356 L764.5938,361.8356 Z M762.1406,359.6325 L764.7656,359.6325 Q767.7969,359.6325 769.125,361.0856 Q770.4688,362.5231 770.4688,365.82 Q770.4688,369.1169 769.125,370.57 Q767.7969,372.0231 764.7656,372.0231 L762.1406,372.0231 L762.1406,359.6325 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="56" x="779" y="370.1774">OfferPart</text><line style="stroke:#A80036;stroke-width:1.5;" x1="751" x2="837" y1="382.0231" y2="382.0231"/><line style="stroke:#A80036;stroke-width:1.5;" x1="751" x2="837" y1="390.0231" y2="390.0231"/><!--MD5=[6dff479dfce9e3b0670cb55d6657bb83]
class Ancillary--><rect codeLine="26" fill="#FEFECE" filter="url(#fc2ll3o2iz4jm)" height="60.8047" id="Ancillary" style="stroke:#A80036;stroke-width:1.5;" width="83" x="632.5" y="565.5231"/><ellipse cx="647.5" cy="581.5231" fill="#DA70D6" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M648.7031,581.6638 Q649.0625,581.7419 649.3281,582.0231 Q649.6094,582.2888 650,583.07 L652.2344,587.5231 L649.5469,587.5231 L648.0469,584.3981 Q647.9844,584.2575 647.875,584.0231 Q647.2188,582.6325 646.3281,582.6325 L645.5469,582.6325 L645.5469,587.5231 L643.1094,587.5231 L643.1094,575.1325 L646.6406,575.1325 Q649.0313,575.1325 650.0625,575.9763 Q651.1094,576.82 651.1094,578.7263 Q651.1094,580.0075 650.4844,580.7731 Q649.875,581.5231 648.7031,581.6638 Z M645.5469,577.195 L645.5469,580.57 L646.7031,580.57 Q647.7188,580.57 648.1406,580.1794 Q648.5781,579.7731 648.5781,578.8669 Q648.5781,577.9763 648.1406,577.5856 Q647.7188,577.195 646.7031,577.195 L645.5469,577.195 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="51" x="661.5" y="585.6774">Ancillary</text><line style="stroke:#A80036;stroke-width:1.5;" x1="633.5" x2="714.5" y1="597.5231" y2="597.5231"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="49" x="638.5" y="611.7336">category</text><line style="stroke:#A80036;stroke-width:1.5;" x1="633.5" x2="714.5" y1="618.3278" y2="618.3278"/><!--MD5=[2865a10d554e5c53169cb668d9d489f7]
class Admission--><rect codeLine="30" fill="#FEFECE" filter="url(#fc2ll3o2iz4jm)" height="99.2188" id="Admission" style="stroke:#A80036;stroke-width:1.5;" width="172" x="316" y="546.5231"/><ellipse cx="366.25" cy="562.5231" fill="#DA70D6" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M367.4531,562.6638 Q367.8125,562.7419 368.0781,563.0231 Q368.3594,563.2888 368.75,564.07 L370.9844,568.5231 L368.2969,568.5231 L366.7969,565.3981 Q366.7344,565.2575 366.625,565.0231 Q365.9688,563.6325 365.0781,563.6325 L364.2969,563.6325 L364.2969,568.5231 L361.8594,568.5231 L361.8594,556.1325 L365.3906,556.1325 Q367.7813,556.1325 368.8125,556.9763 Q369.8594,557.82 369.8594,559.7263 Q369.8594,561.0075 369.2344,561.7731 Q368.625,562.5231 367.4531,562.6638 Z M364.2969,558.195 L364.2969,561.57 L365.4531,561.57 Q366.4688,561.57 366.8906,561.1794 Q367.3281,560.7731 367.3281,559.8669 Q367.3281,558.9763 366.8906,558.5856 Q366.4688,558.195 365.4531,558.195 L364.2969,558.195 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="63" x="386.75" y="566.6774">Admission</text><line style="stroke:#A80036;stroke-width:1.5;" x1="317" x2="487" y1="578.5231" y2="578.5231"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="115" x="322" y="592.7336">reservationRequired</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="160" x="322" y="605.5383">reservations: [reservations]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="322" y="618.3429">ancillaries: [ancillaries]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="141" x="322" y="631.1476">«opt» numericAvailability</text><line style="stroke:#A80036;stroke-width:1.5;" x1="317" x2="487" y1="637.7419" y2="637.7419"/><!--MD5=[9c46470aa33a0c75e6d1dfdefc2f9c22]
class Reservation--><rect codeLine="37" fill="#FEFECE" filter="url(#fc2ll3o2iz4jm)" height="86.4141" id="Reservation" style="stroke:#A80036;stroke-width:1.5;" width="270" x="751" y="553.0231"/><ellipse cx="844.75" cy="569.0231" fill="#DA70D6" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M845.9531,569.1638 Q846.3125,569.2419 846.5781,569.5231 Q846.8594,569.7888 847.25,570.57 L849.4844,575.0231 L846.7969,575.0231 L845.2969,571.8981 Q845.2344,571.7575 845.125,571.5231 Q844.4688,570.1325 843.5781,570.1325 L842.7969,570.1325 L842.7969,575.0231 L840.3594,575.0231 L840.3594,562.6325 L843.8906,562.6325 Q846.2813,562.6325 847.3125,563.4763 Q848.3594,564.32 848.3594,566.2263 Q848.3594,567.5075 847.7344,568.2731 Q847.125,569.0231 845.9531,569.1638 Z M842.7969,564.695 L842.7969,568.07 L843.9531,568.07 Q844.9688,568.07 845.3906,567.6794 Q845.8281,567.2731 845.8281,566.3669 Q845.8281,565.4763 845.3906,565.0856 Q844.9688,564.695 843.9531,564.695 L842.7969,564.695 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="74" x="865.25" y="573.1774">Reservation</text><line style="stroke:#A80036;stroke-width:1.5;" x1="752" x2="1020" y1="585.0231" y2="585.0231"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="141" x="757" y="599.2336">«opt» numericAvailability</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="233" x="757" y="612.0383">reservationDetails: {reservation details}</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="258" x="757" y="624.8429">placeSelection: {place selection information}</text><line style="stroke:#A80036;stroke-width:1.5;" x1="752" x2="1020" y1="631.4372" y2="631.4372"/><!--MD5=[72136138052d025cffdce3c22fbd185f]
class Product--><rect codeLine="43" fill="#FEFECE" filter="url(#fc2ll3o2iz4jm)" height="48" id="Product" style="stroke:#A80036;stroke-width:1.5;" width="81" x="565.5" y="733.0231"/><ellipse cx="580.5" cy="749.0231" fill="#DA70D6" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M581.7031,749.1638 Q582.0625,749.2419 582.3281,749.5231 Q582.6094,749.7888 583,750.57 L585.2344,755.0231 L582.5469,755.0231 L581.0469,751.8981 Q580.9844,751.7575 580.875,751.5231 Q580.2188,750.1325 579.3281,750.1325 L578.5469,750.1325 L578.5469,755.0231 L576.1094,755.0231 L576.1094,742.6325 L579.6406,742.6325 Q582.0313,742.6325 583.0625,743.4763 Q584.1094,744.32 584.1094,746.2263 Q584.1094,747.5075 583.4844,748.2731 Q582.875,749.0231 581.7031,749.1638 Z M578.5469,744.695 L578.5469,748.07 L579.7031,748.07 Q580.7188,748.07 581.1406,747.6794 Q581.5781,747.2731 581.5781,746.3669 Q581.5781,745.4763 581.1406,745.0856 Q580.7188,744.695 579.7031,744.695 L578.5469,744.695 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="49" x="594.5" y="753.1774">Product</text><line style="stroke:#A80036;stroke-width:1.5;" x1="566.5" x2="645.5" y1="765.0231" y2="765.0231"/><line style="stroke:#A80036;stroke-width:1.5;" x1="566.5" x2="645.5" y1="773.0231" y2="773.0231"/><!--MD5=[99761c19fb142d938a1f8ce67200212e]
class Fare--><rect codeLine="46" fill="#FEFECE" filter="url(#fc2ll3o2iz4jm)" height="48" id="Fare" style="stroke:#A80036;stroke-width:1.5;" width="60" x="7" y="572.0231"/><ellipse cx="22" cy="588.0231" fill="#DA70D6" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M23.2031,588.1638 Q23.5625,588.2419 23.8281,588.5231 Q24.1094,588.7888 24.5,589.57 L26.7344,594.0231 L24.0469,594.0231 L22.5469,590.8981 Q22.4844,590.7575 22.375,590.5231 Q21.7188,589.1325 20.8281,589.1325 L20.0469,589.1325 L20.0469,594.0231 L17.6094,594.0231 L17.6094,581.6325 L21.1406,581.6325 Q23.5313,581.6325 24.5625,582.4763 Q25.6094,583.32 25.6094,585.2263 Q25.6094,586.5075 24.9844,587.2731 Q24.375,588.0231 23.2031,588.1638 Z M20.0469,583.695 L20.0469,587.07 L21.2031,587.07 Q22.2188,587.07 22.6406,586.6794 Q23.0781,586.2731 23.0781,585.3669 Q23.0781,584.4763 22.6406,584.0856 Q22.2188,583.695 21.2031,583.695 L20.0469,583.695 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="28" x="36" y="592.1774">Fare</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="66" y1="604.0231" y2="604.0231"/><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="66" y1="612.0231" y2="612.0231"/><!--MD5=[044d80e6112339a70fe50413576e9bf7]
class Passenger--><rect codeLine="50" fill="#FEFECE" filter="url(#fc2ll3o2iz4jm)" height="163.2422" id="Passenger" style="stroke:#A80036;stroke-width:1.5;" width="176" x="792" y="55.5231"/><ellipse cx="842.25" cy="71.5231" fill="#DA70D6" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M843.4531,71.6638 Q843.8125,71.7419 844.0781,72.0231 Q844.3594,72.2888 844.75,73.07 L846.9844,77.5231 L844.2969,77.5231 L842.7969,74.3981 Q842.7344,74.2575 842.625,74.0231 Q841.9688,72.6325 841.0781,72.6325 L840.2969,72.6325 L840.2969,77.5231 L837.8594,77.5231 L837.8594,65.1325 L841.3906,65.1325 Q843.7813,65.1325 844.8125,65.9763 Q845.8594,66.82 845.8594,68.7263 Q845.8594,70.0075 845.2344,70.7731 Q844.625,71.5231 843.4531,71.6638 Z M840.2969,67.195 L840.2969,70.57 L841.4531,70.57 Q842.4688,70.57 842.8906,70.1794 Q843.3281,69.7731 843.3281,68.8669 Q843.3281,67.9763 842.8906,67.5856 Q842.4688,67.195 841.4531,67.195 L840.2969,67.195 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="67" x="862.75" y="75.6774">Passenger</text><line style="stroke:#A80036;stroke-width:1.5;" x1="793" x2="967" y1="87.5231" y2="87.5231"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="10" x="798" y="101.7336">id</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="164" x="798" y="114.5383">externalPassengerReference</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="65" x="798" y="127.3429">dateOfBirth</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="40" x="798" y="140.1476">gender</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="57" x="798" y="152.9523">LastName</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="57" x="798" y="165.757">Firstname</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="798" y="178.5617">PassportInformation</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="62" x="798" y="191.3664">Reductions</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="27" x="798" y="204.1711">Type</text><line style="stroke:#A80036;stroke-width:1.5;" x1="793" x2="967" y1="210.7653" y2="210.7653"/><!--MD5=[c6c2aa411a70f0170997fbec83374a43]
class Booking--><rect codeLine="62" fill="#E0FFFF" filter="url(#fc2ll3o2iz4jm)" height="137.6328" id="Booking" style="stroke:#A80036;stroke-width:1.5;" width="220" x="537" y="68.0231"/><ellipse cx="617.75" cy="84.0231" fill="#DA70D6" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M618.9531,84.1638 Q619.3125,84.2419 619.5781,84.5231 Q619.8594,84.7888 620.25,85.57 L622.4844,90.0231 L619.7969,90.0231 L618.2969,86.8981 Q618.2344,86.7575 618.125,86.5231 Q617.4688,85.1325 616.5781,85.1325 L615.7969,85.1325 L615.7969,90.0231 L613.3594,90.0231 L613.3594,77.6325 L616.8906,77.6325 Q619.2813,77.6325 620.3125,78.4763 Q621.3594,79.32 621.3594,81.2263 Q621.3594,82.5075 620.7344,83.2731 Q620.125,84.0231 618.9531,84.1638 Z M615.7969,79.695 L615.7969,83.07 L616.9531,83.07 Q617.9688,83.07 618.3906,82.6794 Q618.8281,82.2731 618.8281,81.3669 Q618.8281,80.4763 618.3906,80.0856 Q617.9688,79.695 616.9531,79.695 L615.7969,79.695 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="50" x="638.25" y="88.1774">Booking</text><line style="stroke:#A80036;stroke-width:1.5;" x1="538" x2="756" y1="100.0231" y2="100.0231"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="10" x="543" y="114.2336">id</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="36" x="543" y="127.0383">status</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="102" x="543" y="139.8429">bookingMessages</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="123" x="543" y="152.6476">requestedInformation</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="85" x="543" y="165.4523">ticketTimeLimit</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="208" x="543" y="178.257">fulfillmentOptions: fulfillmentOptions</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="121" x="543" y="191.0617">bookedOffers: Offers</text><line style="stroke:#A80036;stroke-width:1.5;" x1="538" x2="756" y1="197.6559" y2="197.6559"/><path d="M80,109.5231 L80,164.9216 A0,0 0 0 0 80,164.9216 L502,164.9216 A0,0 0 0 0 502,164.9216 L502,141.0231 L536.85,137.0231 L502,133.0231 L502,119.5231 L492,109.5231 L80,109.5231 A0,0 0 0 0 80,109.5231 " fill="#FBFB77" filter="url(#fc2ll3o2iz4jm)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M492,109.5231 L492,119.5231 L502,119.5231 L492,109.5231 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="401" x="86" y="126.59">possible states PREBOOKED, BOOKED, FULFILLED, CANCELLED</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="320" x="90" y="141.7228">Booked represents the state between the booking</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="284" x="86" y="156.8556">confirmation and the issuance of the tickets.</text><!--MD5=[7853711ab61c593801a61c98599ea41d]
class FulfillmentOption--><rect codeLine="74" fill="#E0FFFF" filter="url(#fc2ll3o2iz4jm)" height="60.8047" id="FulfillmentOption" style="stroke:#A80036;stroke-width:1.5;" width="136" x="579" y="343.5231"/><ellipse cx="594" cy="359.5231" fill="#008000" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M593.5938,355.3356 L593.5938,363.32 L594.25,363.32 Q595.6875,363.32 596.2969,362.4138 Q596.9219,361.4919 596.9219,359.32 Q596.9219,357.1481 596.2969,356.2419 Q595.6875,355.3356 594.25,355.3356 L593.5938,355.3356 Z M591.1406,353.1325 L593.7656,353.1325 Q596.7969,353.1325 598.125,354.5856 Q599.4688,356.0231 599.4688,359.32 Q599.4688,362.6169 598.125,364.07 Q596.7969,365.5231 593.7656,365.5231 L591.1406,365.5231 L591.1406,353.1325 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="104" x="608" y="363.6774">FulfillmentOption</text><line style="stroke:#A80036;stroke-width:1.5;" x1="580" x2="714" y1="375.5231" y2="375.5231"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="24" x="585" y="389.7336">type</text><line style="stroke:#A80036;stroke-width:1.5;" x1="580" x2="714" y1="396.3278" y2="396.3278"/><!--MD5=[99d51b6715838cc21b3c961f48fbaad4]
class ReservationDetails_ReservedPlaces--><rect codeLine="78" fill="#E0FFFF" filter="url(#fc2ll3o2iz4jm)" height="99.2188" id="ReservationDetails_ReservedPlaces" style="stroke:#A80036;stroke-width:1.5;" width="254" x="1098" y="707.5231"/><ellipse cx="1113" cy="723.5231" fill="#008000" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1112.5938,719.3356 L1112.5938,727.32 L1113.25,727.32 Q1114.6875,727.32 1115.2969,726.4138 Q1115.9219,725.4919 1115.9219,723.32 Q1115.9219,721.1481 1115.2969,720.2419 Q1114.6875,719.3356 1113.25,719.3356 L1112.5938,719.3356 Z M1110.1406,717.1325 L1112.7656,717.1325 Q1115.7969,717.1325 1117.125,718.5856 Q1118.4688,720.0231 1118.4688,723.32 Q1118.4688,726.6169 1117.125,728.07 Q1115.7969,729.5231 1112.7656,729.5231 L1110.1406,729.5231 L1110.1406,717.1325 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="222" x="1127" y="727.6774">ReservationDetails_ReservedPlaces</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1099" x2="1351" y1="739.5231" y2="739.5231"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="1104" y="753.7336">passengerId</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="111" x="1104" y="766.5383">«opt» placeNumber</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="114" x="1104" y="779.3429">«opt» coachNumber</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="85" x="1104" y="792.1476">«opt» direction</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1099" x2="1351" y1="798.7419" y2="798.7419"/><path d="M681.5,737.0231 L681.5,753.0231 L646.52,757.0231 L681.5,761.0231 L681.5,777.2888 A0,0 0 0 0 681.5,777.2888 L1062.5,777.2888 A0,0 0 0 0 1062.5,777.2888 L1062.5,747.0231 L1052.5,737.0231 L681.5,737.0231 A0,0 0 0 0 681.5,737.0231 " fill="#FBFB77" filter="url(#fc2ll3o2iz4jm)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1052.5,737.0231 L1052.5,747.0231 L1062.5,747.0231 L1052.5,737.0231 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="303" x="687.5" y="754.09">reference is the unique internal id that allows to</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="360" x="687.5" y="769.2228">link fulfillments to products. It has no functional meaning</text><!--MD5=[e43393244d75ff32288e3322ff5a1253]
class Fulfillment--><rect codeLine="90" fill="#FFE4C4" filter="url(#fc2ll3o2iz4jm)" height="99.2188" id="Fulfillment" style="stroke:#A80036;stroke-width:1.5;" width="119" x="1020.5" y="324.5231"/><ellipse cx="1046.3" cy="340.5231" fill="#DA70D6" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1047.5031,340.6638 Q1047.8625,340.7419 1048.1281,341.0231 Q1048.4094,341.2888 1048.8,342.07 L1051.0344,346.5231 L1048.3469,346.5231 L1046.8469,343.3981 Q1046.7844,343.2575 1046.675,343.0231 Q1046.0188,341.6325 1045.1281,341.6325 L1044.3469,341.6325 L1044.3469,346.5231 L1041.9094,346.5231 L1041.9094,334.1325 L1045.4406,334.1325 Q1047.8313,334.1325 1048.8625,334.9763 Q1049.9094,335.82 1049.9094,337.7263 Q1049.9094,339.0075 1049.2844,339.7731 Q1048.675,340.5231 1047.5031,340.6638 Z M1044.3469,336.195 L1044.3469,339.57 L1045.5031,339.57 Q1046.5188,339.57 1046.9406,339.1794 Q1047.3781,338.7731 1047.3781,337.8669 Q1047.3781,336.9763 1046.9406,336.5856 Q1046.5188,336.195 1045.5031,336.195 L1044.3469,336.195 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="63" x="1062.7" y="344.6774">Fulfillment</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1021.5" x2="1138.5" y1="356.5231" y2="356.5231"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="10" x="1026.5" y="370.7336">id</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="36" x="1026.5" y="383.5383">status</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="17" x="1026.5" y="396.3429">tcn</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="107" x="1026.5" y="409.1476">productReferences</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1021.5" x2="1138.5" y1="415.7419" y2="415.7419"/><!--MD5=[6f30da6cdfc925c2808c328e51955616]
class RefundOffer--><rect codeLine="97" fill="#90EE90" filter="url(#fc2ll3o2iz4jm)" height="150.4375" id="RefundOffer" style="stroke:#A80036;stroke-width:1.5;" width="154" x="1003" y="62.0231"/><ellipse cx="1039.6" cy="78.0231" fill="#DA70D6" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1040.8031,78.1638 Q1041.1625,78.2419 1041.4281,78.5231 Q1041.7094,78.7888 1042.1,79.57 L1044.3344,84.0231 L1041.6469,84.0231 L1040.1469,80.8981 Q1040.0844,80.7575 1039.975,80.5231 Q1039.3188,79.1325 1038.4281,79.1325 L1037.6469,79.1325 L1037.6469,84.0231 L1035.2094,84.0231 L1035.2094,71.6325 L1038.7406,71.6325 Q1041.1313,71.6325 1042.1625,72.4763 Q1043.2094,73.32 1043.2094,75.2263 Q1043.2094,76.5075 1042.5844,77.2731 Q1041.975,78.0231 1040.8031,78.1638 Z M1037.6469,73.695 L1037.6469,77.07 L1038.8031,77.07 Q1039.8188,77.07 1040.2406,76.6794 Q1040.6781,76.2731 1040.6781,75.3669 Q1040.6781,74.4763 1040.2406,74.0856 Q1039.8188,73.695 1038.8031,73.695 L1037.6469,73.695 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="74" x="1058.4" y="82.1774">RefundOffer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1004" x2="1156" y1="94.0231" y2="94.0231"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="10" x="1009" y="108.2336">id</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="51" x="1009" y="121.0383">validUntil</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="1009" y="133.8429">reimbursementStatus</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="142" x="1009" y="146.6476">reimbursementDateTime</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="1009" y="159.4523">appliedOverrule</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="1009" y="172.257">fulfillments:[fulfillments]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="1009" y="185.0617">RefundFee</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="106" x="1009" y="197.8664">RefundableAmount</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1004" x2="1156" y1="204.4606" y2="204.4606"/><path d="M1056,545.5231 L1056,646.32 A0,0 0 0 0 1056,646.32 L1418,646.32 A0,0 0 0 0 1418,646.32 L1418,555.5231 L1408,545.5231 L1205.62,545.5231 L1114.65,423.5731 L1197.62,545.5231 L1056,545.5231 A0,0 0 0 0 1056,545.5231 " fill="#FBFB77" filter="url(#fc2ll3o2iz4jm)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1408,545.5231 L1408,555.5231 L1418,555.5231 L1408,545.5231 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="1062" y="562.59">Possible statuses:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="1062" y="577.7228">TICKETED</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="261" x="1062" y="592.8556">CANCELLED: following a refund operation</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="341" x="1062" y="607.9885">BOARDED: checked on board by a controlling agency.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="1066" y="623.1213"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="250" x="1062" y="638.2541">Tcn:  unique ticket number for a railway</text><path d="M1192.5,109.5231 L1192.5,164.9216 L1497.5,164.9216 L1497.5,119.5231 L1487.5,109.5231 L1192.5,109.5231 " fill="#FBFB77" filter="url(#fc2ll3o2iz4jm)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1487.5,109.5231 L1487.5,119.5231 L1497.5,119.5231 L1487.5,109.5231 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="284" x="1198.5" y="126.59">FulfillmentOption, RequestedInformation and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="246" x="1198.5" y="141.7228">TicketTimeLimit are only meaningful at</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="1198.5" y="156.8556">pre-booking stage</text><!--MD5=[bbaf3bfc2504393264cdbed4ab175f54]
reverse link Booking to Passenger--><path codeLine="117" d="M770.36,137.0231 C777.47,137.0231 784.58,137.0231 791.69,137.0231 " fill="none" id="Booking-backto-Passenger" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="757.13,137.0231,763.13,141.0231,769.13,137.0231,763.13,133.0231,757.13,137.0231" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="765.1548" y="133.5803">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="764.8932" y="133.2058">1..n</text><!--MD5=[1f11ffc9d53fe7a2d2896ee7318c2f43]
reverse link Booking to FulfillmentOption--><path codeLine="118" d="M647,219.3631 C647,262.2631 647,312.2831 647,343.3031 " fill="none" id="Booking-backto-FulfillmentOption" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="647,206.3131,643,212.3131,647,218.3131,651,212.3131,647,206.3131" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="638.6188" y="225.7229">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="620.525" y="332.521">1..n</text><!--MD5=[77a6f93cc9cfc56e429b9a6a20d59e96]
link Booking to RefundOffer--><path codeLine="119" d="M732.99,67.9231 C751.33,56.6431 771.29,46.6531 791.5,40.5231 C828.93,29.1731 930.82,26.9531 967.5,40.5231 C981.26,45.6131 994.46,53.2231 1006.69,61.9731 " fill="none" id="Booking-RefundOffer" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="733.4452" y="57.1164">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="974.2923" y="50.899">0..n</text><!--MD5=[e022d1574901bb160c728ef4e2d9f563]
link RefundOffer to Fulfillment--><path codeLine="120" d="M1080,212.0531 C1080,248.6531 1080,291.7931 1080,324.1931 " fill="none" id="RefundOffer-Fulfillment" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1071.5875" y="232.6152">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="1054.3875" y="313.5505">1..n</text><!--MD5=[2cb0b04762941feb5571e0d42311b89e]
reverse link Booking to BookedOffer--><path codeLine="122" d="M566.19,215.5331 C544.96,235.9031 521.83,258.0831 499.8,279.2131 " fill="none" id="Booking-backto-BookedOffer" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="575.81,206.3131,568.7098,207.5731,567.142,214.6117,574.2422,213.3517,575.81,206.3131" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="560.6435" y="225.7229">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="482.3691" y="268.4577">1..2</text><!--MD5=[6f8e69572df5281d1314b6a42244d8df]
reverse link Trip to Segment--><path codeLine="123" d="M170.85,596.0231 C178.21,596.0231 185.58,596.0231 192.95,596.0231 " fill="none" id="Trip-backto-Segment" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="157.59,596.0231,163.59,600.0231,169.59,596.0231,163.59,592.0231,157.59,596.0231" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="165.6849" y="591.1852">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="161.068" y="592.0447">1..n</text><!--MD5=[f41f376661054603b8a6a3341b744379]
reverse link Booking to Fulfillment--><path codeLine="124" d="M764.18,212.8731 C767.47,214.7931 770.75,216.6831 774,218.5231 C857.85,266.1131 958.11,315.3431 1020.44,345.0731 " fill="none" id="Booking-backto-Fulfillment" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="752.9,206.2231,756.0385,212.7154,763.2385,212.3154,760.1,205.8231,752.9,206.2231" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="754.6123" y="225.6243">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="988.6131" y="338.1486">0..n</text><!--MD5=[a9bb78affbcdfd82a3d01633b4701108]
reverse link Admission to Product--><path codeLine="126" d="M475,653.9131 C509.99,681.1931 549.95,712.3331 576.44,732.9831 " fill="none" id="Admission-backto-Product" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="464.32,645.5931,466.5911,652.4372,473.7823,652.9732,471.5112,646.1291,464.32,645.5931" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="464.5213" y="665.6794">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="541.7903" y="721.9849">1..n</text><!--MD5=[8f5f683d304db4d4e3db74e8a0b40eac]
reverse link Reservation to Product--><path codeLine="127" d="M777.45,644.7631 C740.42,662.6731 699.44,684.3431 664,707.5231 C652.57,714.9931 640.86,724.4031 630.98,732.9331 " fill="none" id="Reservation-backto-Product" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="789.32,639.0831,782.182,638.0587,778.491,644.2536,785.629,645.278,789.32,639.0831" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="764.6449" y="659.5007">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="640.4561" y="721.9221">0..1</text><!--MD5=[ee2f2848da7064fd5460d7a4f124ddca]
reverse link Ancillary to Product--><path codeLine="128" d="M656.14,638.7931 C643.29,668.8331 626.44,708.2331 615.91,732.8431 " fill="none" id="Ancillary-backto-Product" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="661.37,626.5531,655.3327,630.4967,656.6509,637.5863,662.6882,633.6427,661.37,626.5531" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="649.9401" y="646.4975">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="591.3744" y="721.809">0..1</text><!--MD5=[cb5b2ab7ae9049c5d0682deb91aaf482]
reverse link BookedOffer to Admission--><path codeLine="130" d="M402,481.9031 C402,504.5031 402,527.2831 402,546.4231 " fill="none" id="BookedOffer-backto-Admission" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="402,468.6431,398,474.6431,402,480.6431,406,474.6431,402,468.6431" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="393.6938" y="488.5393">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="376.3125" y="535.4543">0..n</text><!--MD5=[5a2161b35f90f0b8203bc422c679ba23]
reverse link BookedOffer to Reservation--><path codeLine="131" d="M498.13,476.9231 C516.41,491.8031 536.33,505.4731 557,515.5231 C628.36,550.2231 655.94,526.5931 733,545.5231 C742.22,547.7831 751.69,550.3231 761.18,553.0231 " fill="none" id="BookedOffer-backto-Reservation" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="488.15,468.5431,490.1743,475.4643,497.3416,476.2577,495.3173,469.3366,488.15,468.5431" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="486.4396" y="488.4317">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="718.7948" y="543.2852">0..n</text><!--MD5=[676b6e0a62577e2e53906bcd38b2fde5]
reverse link BookedOffer to Fare--><path codeLine="132" d="M248.11,445.7031 C194.31,473.4831 134.93,507.7931 85,545.5231 C74.88,553.1731 64.91,562.9731 56.7,571.8331 " fill="none" id="BookedOffer-backto-Fare" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="259.85,439.6931,252.6869,438.8621,249.1648,445.1545,256.3278,445.9855,259.85,439.6931" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="243.8574" y="439.9489">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="34.6731" y="560.7965">0..n</text><!--MD5=[84224ea54d5d3ac863cd091e746707d2]
reverse link BookedOffer to Ancillary--><path codeLine="133" d="M444.62,479.7631 C453,492.9031 462.75,505.2931 474,515.5231 C519.21,556.6131 588.25,577.6431 632.24,587.4831 " fill="none" id="BookedOffer-backto-Ancillary" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="437.9,468.5831,437.5638,475.7864,444.0836,478.8672,444.4199,471.664,437.9,468.5831" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="432.3423" y="488.4748">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="600.344" y="582.2182">0..n</text><!--MD5=[3b7375480ac95467812a05037db39587]
reverse link BookedOffer to Trip--><path codeLine="134" d="M258.27,476.5131 C229.88,498.3431 200.89,521.9531 175,545.5231 C166.07,553.6531 156.97,563.3531 149.31,571.9931 " fill="none" id="BookedOffer-backto-Trip" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="268.69,468.5631,261.4937,469.0248,259.1521,475.8452,266.3484,475.3835,268.69,468.5631" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="250.1772" y="488.4532">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="127.1832" y="560.9975">0..1</text><!--MD5=[c8c1a14b533f690e058d76d6e20e5745]
reverse link OfferPart to Admission--><path codeLine="135" d="M776.1,416.3131 C765.86,435.1131 751.2,455.9331 732,468.5231 C668.21,510.3631 634.45,471.8031 563,498.5231 C530.95,510.5031 498.11,528.8931 470.51,546.4131 " fill="none" id="OfferPart-backto-Admission" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="769.89,413.0631,785.01,398.2231,782.45,419.2531,769.89,413.0631" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[4b3d5e1d338dba5224f04defe615ab45]
reverse link OfferPart to Reservation--><path codeLine="136" d="M811.5,416.8631 C827.79,455.8231 851.95,513.6031 868.31,552.7131 " fill="none" id="OfferPart-backto-Reservation" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="804.93,419.3031,803.67,398.1531,817.85,413.9031,804.93,419.3031" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[bf4fcd89834435245c28bfed16ed0d8c]
reverse link OfferPart to Ancillary--><path codeLine="137" d="M788.86,418.2831 C783.96,447.3431 774.59,485.6431 757,515.5231 C750.27,526.9531 728.13,547.9731 708.41,565.5231 " fill="none" id="OfferPart-backto-Ancillary" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="781.99,416.9231,791.81,398.1531,795.84,418.9531,781.99,416.9231" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[0f2af4f42ff76ddb39f363a61522c83b]
link Admission to Reservation--><path codeLine="138" d="M480.3,546.4531 C506.25,532.6531 535.95,519.5331 565,512.5231 C604.75,502.9331 709.63,501.4731 749,512.5231 C776.39,520.2131 803.74,535.0631 826.71,550.1231 " fill="none" id="Admission-to-Reservation" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="830.95,552.9431,825.6672,544.631,826.7854,550.1762,821.2401,551.2944,830.95,552.9431" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="182" x="566" y="511.59">optional/included/mandatory</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="796.2639" y="541.9264">0..n</text><!--MD5=[654f46b0594279e7aac88b1a6e1aa98d]
link Admission to Ancillary--><path codeLine="139" d="M488.06,596.0231 C534.09,596.0231 588.98,596.0231 627.13,596.0231 " fill="none" id="Admission-to-Ancillary" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="632.17,596.0231,623.17,592.0231,627.17,596.0231,623.17,600.0231,632.17,596.0231" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="506.25" y="589.09">optional/included</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="600.6002" y="609.1678">0..n</text><!--MD5=[cc96c5c168b606f1edfd6210e68b3211]
reverse link Reservation to ReservationDetails_ReservedPlaces--><path codeLine="140" d="M987.96,644.8431 C1030.16,664.6331 1079.04,687.5631 1121.41,707.4331 " fill="none" id="Reservation-backto-ReservationDetails_ReservedPlaces" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="975.96,639.2131,979.6904,645.3843,986.8217,644.3144,983.0913,638.1432,975.96,639.2131" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="1081.1552" y="696.4657">1..n</text><!--MD5=[01a949bbe41e4f9921ea1164df262bc2]
@startuml
title: Bookings Data Model

class Trip <<R,Orchid>> #linen {
}

class Segment <<D, Green>> #linen {
}

class BookedOffer <<R,orchid>> #lightcyan { 
id
minimalPrice: price
overallServiceClass: FIRST/SECOND
overallServiceRank: FIRST_A,B,C/SECOND_A,B,C
overallFlexibility: FULL/SEMI/NONE
validFrom: date
validTo: date
requestedInformation: String
OfferParts: [OfferParts]
Fares:[Fares]
Trip: Trip
} 

abstract class OfferPart <<D,green>> #lightgrey {
}

class Ancillary <<R,orchid>> {
category
}

class Admission <<R,orchid>> {
reservationRequired 
reservations: [reservations]
ancillaries: [ancillaries]
<<opt>> numericAvailability
}

class Reservation<<R,orchid>> {
<<opt>> numericAvailability
reservationDetails: {reservation details}
placeSelection: {place selection information}
} 

class Product <<R,orchid>> {
}

class Fare <<R,orchid>> {

}

class Passenger <<R, orchid>> {
id
externalPassengerReference
dateOfBirth
gender
LastName
Firstname
PassportInformation
Reductions
Type
}

class Booking <<R,orchid>> #lightcyan {
id
status
bookingMessages
requestedInformation
ticketTimeLimit
fulfillmentOptions: fulfillmentOptions
bookedOffers: Offers

}
note left: possible states PREBOOKED, BOOKED, FULFILLED, CANCELLED\n Booked represents the state between the booking\nconfirmation and the issuance of the tickets.

class FulfillmentOption <<D,green>> #lightcyan  {
type
}

class ReservationDetails_ReservedPlaces<<D, green>> #lightcyan {
passengerId
<<opt>> placeNumber
<<opt>> coachNumber
<<opt>> direction
}

note right of Product
reference is the unique internal id that allows to
link fulfillments to products. It has no functional meaning
end note

class Fulfillment  <<R,orchid>> #bisque{
id
status
tcn
productReferences
}

class RefundOffer <<R, orchid>> #lightgreen {
  id
  validUntil
  reimbursementStatus
  reimbursementDateTime
  appliedOverrule
  fulfillments:[fulfillments]
  RefundFee
  RefundableAmount 
}

note bottom of Fulfillment
Possible statuses:
TICKETED
CANCELLED: following a refund operation
BOARDED: checked on board by a controlling agency.

Tcn:  unique ticket number for a railway
end note

Booking "1"*-"1..n" Passenger
Booking "1"*- -"1..n" FulfillmentOption
Booking "1"-"0..n" RefundOffer
RefundOffer "1"- -"1..n" Fulfillment

Booking "1"*- -"1..2" BookedOffer
Trip "1" *- "1..n" Segment
Booking "1"*- -"0..n" Fulfillment

Admission "1"*- -"1..n" Product
Reservation"1"*- -"0..1" Product
Ancillary "1"*- -"0..1" Product

BookedOffer "1" *- - "0..n" Admission
BookedOffer "1" *- - "0..n" Reservation
BookedOffer "1" *- - "0..n" Fare
BookedOffer "1" *- - "0..n" Ancillary
BookedOffer "1"*- -"0..1" Trip
OfferPart <|- - Admission
OfferPart <|- - Reservation
OfferPart <|- - Ancillary
Admission .>"0..n" Reservation:optional/included/mandatory
Admission .>"0..n" Ancillary:optional/included
Reservation*- -"1..n" ReservationDetails_ReservedPlaces

note as floatingNote
FulfillmentOption, RequestedInformation and
TicketTimeLimit are only meaningful at 
pre-booking stage
end note
@enduml

PlantUML version 1.2020.22(Sun Dec 06 10:36:27 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>