
<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="546px" preserveAspectRatio="none" style="width:1448px;height:546px;" version="1.1" viewBox="0 0 1448 546" width="1448px" zoomAndPan="magnify"><defs><filter height="300%" id="fqgh1cmc7lleh" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="586.5412" cy="16" fill="#000000" filter="url(#fqgh1cmc7lleh)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><g id="prebooked"><rect fill="#FEFECE" filter="url(#fqgh1cmc7lleh)" height="50" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="100" x="536.5412" y="103"/><line style="stroke:#A80036;stroke-width:1.5;" x1="536.5412" x2="636.5412" y1="129.2969" y2="129.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="546.5412" y="120.9951">prebooked</text></g><g id="confirmed"><rect fill="#FEFECE" filter="url(#fqgh1cmc7lleh)" height="50" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="94" x="1236.5372" y="245"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1236.5372" x2="1330.5372" y1="271.2969" y2="271.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="1246.5372" y="262.9951">confirmed</text></g><ellipse cx="771.5412" cy="524" fill="none" filter="url(#fqgh1cmc7lleh)" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;"/><ellipse cx="772.0412" cy="524.5" fill="#000000" rx="6" ry="6" style="stroke:none;stroke-width:1.0;"/><g id="error"><rect fill="#FEFECE" filter="url(#fqgh1cmc7lleh)" height="50" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="56" x="743.5412" y="387"/><line style="stroke:#A80036;stroke-width:1.5;" x1="743.5412" x2="799.5412" y1="413.2969" y2="413.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="753.5412" y="404.9951">error</text></g><g id="fulfilled"><rect fill="#FEFECE" filter="url(#fqgh1cmc7lleh)" height="50" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="74" x="991.5412" y="387"/><line style="stroke:#A80036;stroke-width:1.5;" x1="991.5412" x2="1065.5412" y1="413.2969" y2="413.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="1001.5412" y="404.9951">fulfilled</text></g><!--MD5=[0d41cb91972f753efa07e36ffb227bf7]
link *start to prebooked--><path d="M586.5412,26.002 C586.5412,41.458 586.5412,73.685 586.5412,97.6 " fill="none" id="*start-to-prebooked" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="586.5412,102.873,590.5412,93.873,586.5412,97.873,582.5412,93.873,586.5412,102.873" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252" x="587.5412" y="69.0669">PATCH /Bookings/id {exchangeOfferId}</text><!--MD5=[4f6bdfb1533e6d9d808589b5af9028c7]
link prebooked to confirmed--><path d="M636.6842,136.079 C743.1412,151.601 999.2152,191.551 1209.5372,245 C1216.6672,246.811 1224.1072,248.937 1231.4072,251.162 " fill="none" id="prebooked-to-confirmed" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1236.4372,252.716,1229.0311,246.2237,1231.6628,251.2311,1226.6553,253.8628,1236.4372,252.716" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="1161.0412" y="196.0669">POST /Bookings/id/fulfillments</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="362" x="1078.5412" y="211.1997">where at least 1 fulfillment in the exchange is confirmed</text><!--MD5=[cde281613d0b073a6b9a5c9d0b74ef14]
link prebooked to *end--><path d="M536.3402,132.838 C394.2132,145.746 6,196.224 111.5416,357 C189.4284,475.6484 267.2902,447.8646 404.5412,484 C537.5612,519.0213 705.5682,522.7317 756.3392,523.017 " fill="none" id="prebooked-to-*end" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="761.4152,523.0359,752.4313,518.9999,756.4152,523.0159,752.3993,526.9999,761.4152,523.0359" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="274" x="112.5416" y="345.5669">DELETE /Bookings/id/ExchangeOperation/id</text><!--MD5=[cde281613d0b073a6b9a5c9d0b74ef14]
link prebooked to *end--><path d="M546.5682,153.154 C484.0502,194.09 375.0532,280.148 423.5412,357 C501.5852,480.6952 699.9132,514.1674 756.3482,521.32 " fill="none" id="prebooked-to-*end-1" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="761.6502,521.9664,753.201,516.9056,756.687,521.3607,752.2319,524.8467,761.6502,521.9664" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="287" x="424.5412" y="345.5669">ExchangeOperation TicketTimeLimit reached</text><!--MD5=[7e5f2e0e0de630f102e3d00adcfff96f]
link prebooked to error--><path d="M603.7652,153.108 C629.7802,189.76 680.3282,261.912 720.5412,325 C732.4812,343.732 745.2282,365.226 754.9912,382.04 " fill="none" id="prebooked-to-error" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="757.6632,386.652,756.6123,376.8594,755.1566,382.3257,749.6902,380.87,757.6632,386.652" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="457" x="702.5412" y="274.5669">unrecoverable error at fulfillment &lt; of a prebooked exchangeOperation</text><!--MD5=[e160308e1413fe67be64b131e06ddaec]
link confirmed to fulfilled--><path d="M1236.3272,286.877 C1227.4572,289.697 1218.2472,292.522 1209.5372,295 C1155.8372,310.29 1133.4572,293.228 1087.5412,325 C1066.9522,339.247 1051.3912,363.195 1041.4342,382.207 " fill="none" id="confirmed-to-fulfilled" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1039.0232,386.926,1046.6792,380.7303,1041.2975,382.4732,1039.5546,377.0915,1039.0232,386.926" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198" x="1097.0412" y="338.0669">PATCH /bookings/id/fulfillments</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215" x="1092.5412" y="353.1997">&lt;all fulfillments are now fulfilled&gt;</text><!--MD5=[1db40179f6a4d84b7f8f62d8a21617cb]
link confirmed to error--><path d="M1236.2172,288.207 C1227.4472,290.863 1218.2872,293.287 1209.5372,295 C1119.8872,312.552 871.4562,268.662 799.5412,325 C782.4812,338.365 775.6782,362.318 773.0302,381.556 " fill="none" id="confirmed-to-error" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="772.3892,386.845,777.4453,378.393,772.9921,381.8815,769.5037,377.4283,772.3892,386.845" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="816.5412" y="338.0669">unrecoverable error at fulfillment</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="244" x="804.5412" y="353.1997">&lt;of a confirmed exchangeOperation&gt;</text><!--MD5=[3600fad52994415f4c4d7ea48ac0e995]
link confirmed to *end--><path d="M1302.7872,295.293 C1314.7272,313.505 1325.5172,338.39 1312.5372,357 C1248.3272,449.0701 867.6812,509.039 786.6892,520.8544 " fill="none" id="confirmed-to-*end" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="781.3842,521.6217,790.8641,524.2922,786.3327,520.906,789.719,516.3746,781.3842,521.6217" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="1275.5372" y="416.5669">archiving</text><!--MD5=[f393ce116f66033d46d211367829c82e]
link fulfilled to *end--><path d="M991.4462,428.877 C933.4432,453.7035 823.9262,500.5787 785.3842,517.0753 " fill="none" id="fulfilled-to-*end" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="780.6332,519.1088,790.4811,519.2452,785.2299,517.1416,787.3336,511.8904,780.6332,519.1088" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="900.5412" y="480.0669">archiving</text><!--MD5=[68785ad7221959f2878ebc71627aad27]
link error to *end--><path d="M771.5412,437.14 C771.5412,459.0338 771.5412,490.5738 771.5412,508.7062 " fill="none" id="error-to-*end" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="771.5412,513.8775,775.5412,504.8775,771.5412,508.8775,767.5412,504.8775,771.5412,513.8775" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="772.5412" y="480.0669">archiving</text><!--MD5=[3ad4b2335bd77853c5ee44516b0b49a6]
@startuml
[*] - -> prebooked: PATCH /Bookings/id {exchangeOfferId}
prebooked - -> confirmed: POST /Bookings/id/fulfillments \n where at least 1 fulfillment in the exchange is confirmed
prebooked - -> [*]: DELETE /Bookings/id/ExchangeOperation/id
prebooked - -> [*]: ExchangeOperation TicketTimeLimit reached
prebooked - -> error: unrecoverable error at fulfillment < of a prebooked exchangeOperation
confirmed - -> fulfilled: PATCH /bookings/id/fulfillments \n <all fulfillments are now fulfilled>
confirmed - -> error: unrecoverable error at fulfillment \n <of a confirmed exchangeOperation>
confirmed - -> [*] : archiving
fulfilled - -> [*] : archiving
error - -> [*] : archiving
@enduml

PlantUML version 1.2021.01beta3(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>