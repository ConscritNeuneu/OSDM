<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="627px" preserveAspectRatio="none" style="width:821px;height:627px;" version="1.1" viewBox="0 0 821 627" width="821px" zoomAndPan="magnify"><defs><filter height="300%" id="f1s3yqw5zfm8aw" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="41" x2="41" y1="88.2969" y2="620.2891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="182" x2="182" y1="88.2969" y2="620.2891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="322.5" x2="322.5" y1="88.2969" y2="620.2891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="510.5" x2="510.5" y1="88.2969" y2="620.2891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="623.5" x2="623.5" y1="88.2969" y2="620.2891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="752.5" x2="752.5" y1="88.2969" y2="620.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="5" y="84.9951">customer</text><ellipse cx="41" cy="15" fill="#FEFECE" filter="url(#f1s3yqw5zfm8aw)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M41,23 L41,50 M28,31 L54,31 M41,50 L28,65 M41,50 L54,65 " fill="none" filter="url(#f1s3yqw5zfm8aw)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1s3yqw5zfm8aw)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="84" x="138" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="145" y="72.9951">distributor</text><rect fill="#FEFECE" filter="url(#f1s3yqw5zfm8aw)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="85" x="278.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="285.5" y="72.9951">allocator 1</text><rect fill="#FEFECE" filter="url(#f1s3yqw5zfm8aw)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="113" x="452.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="99" x="459.5" y="72.9951">fare provider 1</text><rect fill="#FEFECE" filter="url(#f1s3yqw5zfm8aw)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="85" x="579.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="586.5" y="72.9951">allocator 2</text><rect fill="#FEFECE" filter="url(#f1s3yqw5zfm8aw)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="113" x="694.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="99" x="701.5" y="72.9951">fare provider 2</text><polygon fill="#A80036" points="170,115.4297,180,119.4297,170,123.4297,174,119.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="41" x2="176" y1="119.4297" y2="119.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="48" y="114.3638">get an offer A to C</text><polygon fill="#A80036" points="311,144.5625,321,148.5625,311,152.5625,315,148.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="182" x2="317" y1="148.5625" y2="148.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="189" y="143.4966">get an offer A to C</text><line style="stroke:#A80036;stroke-width:1.0;" x1="323" x2="365" y1="177.6953" y2="177.6953"/><line style="stroke:#A80036;stroke-width:1.0;" x1="365" x2="365" y1="177.6953" y2="190.6953"/><line style="stroke:#A80036;stroke-width:1.0;" x1="324" x2="365" y1="190.6953" y2="190.6953"/><polygon fill="#A80036" points="334,186.6953,324,190.6953,334,194.6953,330,190.6953" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="138" x="330" y="172.6294">split trip into allocator</text><polygon fill="#A80036" points="499,220.8281,509,224.8281,499,228.8281,503,224.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="323" x2="505" y1="224.8281" y2="224.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="330" y="219.7622">get a fare A to B</text><path d="M516,203.6953 L516,228.6953 L730,228.6953 L730,213.6953 L720,203.6953 L516,203.6953 " fill="#FBFB77" filter="url(#f1s3yqw5zfm8aw)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M720,203.6953 L720,213.6953 L730,213.6953 L720,203.6953 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="522" y="220.7622">B can be a virtual border point</text><polygon fill="#A80036" points="334,254.9609,324,258.9609,334,262.9609,330,258.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="328" x2="510" y1="258.9609" y2="258.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="89" x="340" y="253.895">fare for A to B</text><polygon fill="#A80036" points="612,284.0938,622,288.0938,612,292.0938,616,288.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="323" x2="618" y1="288.0938" y2="288.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="197" x="330" y="283.0278">forward offer request for B to C</text><polygon fill="#A80036" points="741,313.2266,751,317.2266,741,321.2266,745,317.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="624" x2="747" y1="317.2266" y2="317.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="631" y="312.1606">get a fare B to C</text><polygon fill="#A80036" points="635,342.3594,625,346.3594,635,350.3594,631,346.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="629" x2="752" y1="346.3594" y2="346.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="89" x="641" y="341.2935">fare for B to C</text><line style="stroke:#A80036;stroke-width:1.0;" x1="624" x2="666" y1="375.4922" y2="375.4922"/><line style="stroke:#A80036;stroke-width:1.0;" x1="666" x2="666" y1="375.4922" y2="388.4922"/><line style="stroke:#A80036;stroke-width:1.0;" x1="625" x2="666" y1="388.4922" y2="388.4922"/><polygon fill="#A80036" points="635,384.4922,625,388.4922,635,392.4922,631,388.4922" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="631" y="370.4263">create offer part</text><polygon fill="#A80036" points="334,413.625,324,417.625,334,421.625,330,417.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="328" x2="623" y1="417.625" y2="417.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55" x="340" y="412.5591">offerPart</text><line style="stroke:#A80036;stroke-width:1.0;" x1="323" x2="365" y1="446.7578" y2="446.7578"/><line style="stroke:#A80036;stroke-width:1.0;" x1="365" x2="365" y1="446.7578" y2="459.7578"/><line style="stroke:#A80036;stroke-width:1.0;" x1="324" x2="365" y1="459.7578" y2="459.7578"/><polygon fill="#A80036" points="334,455.7578,324,459.7578,334,463.7578,330,459.7578" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="170" x="330" y="441.6919">create offerPart from fares</text><line style="stroke:#A80036;stroke-width:1.0;" x1="323" x2="365" y1="488.8906" y2="488.8906"/><line style="stroke:#A80036;stroke-width:1.0;" x1="365" x2="365" y1="488.8906" y2="501.8906"/><line style="stroke:#A80036;stroke-width:1.0;" x1="324" x2="365" y1="501.8906" y2="501.8906"/><polygon fill="#A80036" points="334,497.8906,324,501.8906,334,505.8906,330,501.8906" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="330" y="483.8247">create offer from offerParts</text><polygon fill="#A80036" points="193,527.0234,183,531.0234,193,535.0234,189,531.0234" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="187" x2="322" y1="531.0234" y2="531.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="199" y="525.9575">offer</text><line style="stroke:#A80036;stroke-width:1.0;" x1="182" x2="224" y1="560.1563" y2="560.1563"/><line style="stroke:#A80036;stroke-width:1.0;" x1="224" x2="224" y1="560.1563" y2="573.1563"/><line style="stroke:#A80036;stroke-width:1.0;" x1="183" x2="224" y1="573.1563" y2="573.1563"/><polygon fill="#A80036" points="193,569.1563,183,573.1563,193,577.1563,189,573.1563" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="189" y="555.0903">create overall offer</text><polygon fill="#A80036" points="52,598.2891,42,602.2891,52,606.2891,48,602.2891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="46" x2="181" y1="602.2891" y2="602.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="58" y="597.2231">overall offfer</text><!--MD5=[d944ca62f8941ed7e18c53c798e35801]
@startuml
hide footbox

actor customer

customer -> distributor: get an offer A to C
distributor -> "allocator 1": get an offer A to C

"allocator 1" -> "allocator 1": split trip into allocator
"allocator 1" -> "fare provider 1": get a fare A to B
note right: B can be a virtual border point
"fare provider 1" - -> "allocator 1": fare for A to B
"allocator 1" -> "allocator 2": forward offer request for B to C

"allocator 2" -> "fare provider 2": get a fare B to C
"fare provider 2" - -> "allocator 2": fare for B to C
"allocator 2" -> "allocator 2": create offer part
"allocator 2" - -> "allocator 1": offerPart

"allocator 1" -> "allocator 1": create offerPart from fares
"allocator 1" -> "allocator 1": create offer from offerParts
"allocator 1" - -> distributor: offer

distributor -> distributor: create overall offer
distributor - -> customer: overall offfer
@enduml

PlantUML version 1.2020.22(Sun Dec 06 10:36:27 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>